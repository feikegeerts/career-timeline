import{t as O,f as J,c as z}from"../chunks/CwldcDWk.js";import{i as W}from"../chunks/DcTzFIy4.js";import{c as K,w as N,g as de,o as ve,h as he,N as pe,D as o,Y as D,P as ge,Q as Z,s as X,d as P,f as _e,R as ae,p as ie,T as me,m as le,ad as we,a6 as V,am as j,an as B,x as $,ao as Ee,ap as Ie,aq as Te,l as be,ar as ye,as as Se,at as Ae,au as xe,a as Ne,av as Ce,aw as Me,ax as Le,ay as Re,V as ke,ab as Ve,t as F,ai as oe,K as L,L as M,M as U,a0 as A,J as ce,y as Q}from"../chunks/BatoUL1g.js";import{s as Y}from"../chunks/BIlWtTmT.js";import{p as x,i as G}from"../chunks/DqDBf7zy.js";import{b as fe}from"../chunks/C9O30MNJ.js";function He(n,e){return e}function De(n,e,t,r){for(var l=[],a=e.length,i=0;i<a;i++)Te(e[i].e,l,!0);var h=a>0&&l.length===0&&t!==null;if(h){var _=t.parentNode;be(_),_.append(t),r.clear(),R(n,e[0].prev,e[a-1].next)}ye(l,()=>{for(var u=0;u<a;u++){var s=e[u];h||(r.delete(s.k),R(n,s.prev,s.next)),Se(s.e,!h)}})}function ze(n,e,t,r,l,a=null){var i=n,h={flags:e,items:new Map,first:null};{var _=n;i=N?K(de(_)):_.appendChild(ve())}N&&he();var u=null,s=!1,m=D(()=>{var c=t();return we(c)?c:c==null?[]:le(c)});pe(()=>{var c=o(m),d=c.length;if(s&&d===0)return;s=d===0;let v=!1;if(N){var w=i.data===ge;w!==(d===0)&&(i=Z(),K(i),X(!1),v=!0)}if(N){for(var I=null,p,E=0;E<d;E++){if(P.nodeType===8&&P.data===_e){i=P,v=!0,X(!1);break}var T=c[E],b=r(T,E);p=ue(P,h,I,null,T,b,E,l,e,t),h.items.set(b,p),I=p}d>0&&K(Z())}N||Oe(c,h,i,l,e,r,t),a!==null&&(d===0?u?ae(u):u=ie(()=>a(i)):u!==null&&me(u,()=>{u=null})),v&&X(!0),o(m)}),N&&(i=P)}function Oe(n,e,t,r,l,a,i){var h=n.length,_=e.items,u=e.first,s=u,m,c=null,d=[],v=[],w,I,p,E;for(E=0;E<h;E+=1){if(w=n[E],I=a(w,E),p=_.get(I),p===void 0){var T=s?s.e.nodes_start:t;c=ue(T,e,c,c===null?e.first:c.next,w,I,E,r,l,i),_.set(I,c),d=[],v=[],s=c.next;continue}if(Pe(p,w,E),(p.e.f&B)!==0&&ae(p.e),p!==s){if(m!==void 0&&m.has(p)){if(d.length<v.length){var b=v[0],y;c=b.prev;var H=d[0],f=d[d.length-1];for(y=0;y<d.length;y+=1)ee(d[y],b,t);for(y=0;y<v.length;y+=1)m.delete(v[y]);R(e,H.prev,f.next),R(e,c,H),R(e,f,b),s=b,c=f,E-=1,d=[],v=[]}else m.delete(p),ee(p,s,t),R(e,p.prev,p.next),R(e,p,c===null?e.first:c.next),R(e,c,p),c=p;continue}for(d=[],v=[];s!==null&&s.k!==I;)(s.e.f&B)===0&&(m??(m=new Set)).add(s),v.push(s),s=s.next;if(s===null)continue;p=s}d.push(p),c=p,s=p.next}if(s!==null||m!==void 0){for(var g=m===void 0?[]:le(m);s!==null;)(s.e.f&B)===0&&g.push(s),s=s.next;var S=g.length;if(S>0){var k=h===0?t:null;De(e,g,k,_)}}$.first=e.first&&e.first.e,$.last=c&&c.e}function Pe(n,e,t,r){Ie(n.v,e),n.i=t}function ue(n,e,t,r,l,a,i,h,_,u){var s=(_&Ae)!==0,m=(_&xe)===0,c=s?m?V(l):j(l):l,d=(_&Ee)===0?i:j(i),v={i:d,v:c,k:a,a:null,e:null,prev:t,next:r};try{return v.e=ie(()=>h(n,c,d,u),N),v.e.prev=t&&t.e,v.e.next=r&&r.e,t===null?e.first=v:(t.next=v,t.e.next=v.e),r!==null&&(r.prev=v,r.e.prev=v.e),v}finally{}}function ee(n,e,t){for(var r=n.next?n.next.e.nodes_start:t,l=e?e.e.nodes_start:t,a=n.e.nodes_start;a!==r;){var i=Ne(a);l.before(a),a=i}}function R(n,e,t){e===null?n.first=t:(e.next=t,e.e.next=t&&t.e),t!==null&&(t.prev=e,t.e.prev=e&&e.e)}const te=[...` 	
\r\f \v\uFEFF`];function Ue(n,e,t){var r=n==null?"":""+n;if(t){for(var l in t)if(t[l])r=r?r+" "+l:l;else if(r.length)for(var a=l.length,i=0;(i=r.indexOf(l,i))>=0;){var h=i+a;(i===0||te.includes(r[i-1]))&&(h===r.length||te.includes(r[h]))?r=(i===0?"":r.substring(0,i))+r.substring(h+1):i=h}}return r===""?null:r}function ne(n,e,t,r,l,a){var i=n.__className;if(N||i!==t||i===void 0){var h=Ue(t,r,a);(!N||h!==n.getAttribute("class"))&&(h==null?n.removeAttribute("class"):n.className=h),n.__className=t}else if(a&&l!==a)for(var _ in a){var u=!!a[_];(l==null||u!==!!l[_])&&n.classList.toggle(_,u)}return a}const Ye=Symbol("is custom element"),qe=Symbol("is html");function re(n,e,t,r){var l=Je(n);N&&(l[e]=n.getAttribute(e),e==="src"||e==="srcset"||e==="href"&&n.nodeName==="LINK")||l[e]!==(l[e]=t)&&(e==="loading"&&(n[Ce]=t),t==null?n.removeAttribute(e):typeof t!="string"&&Ke(n).includes(e)?n[e]=t:n.setAttribute(e,t))}function Je(n){return n.__attributes??(n.__attributes={[Ye]:n.nodeName.includes("-"),[qe]:n.namespaceURI===Me})}var se=new Map;function Ke(n){var e=se.get(n.nodeName);if(e)return e;se.set(n.nodeName,e=[]);for(var t,r=n,l=Element.prototype;l!==r;){t=Re(r);for(var a in t)t[a].set&&e.push(a);r=Le(r)}return e}function Xe(n,e,t){var r=ke(n,e);r&&r.set&&(n[e]=t,Ve(()=>{n[e]=null}))}function Be(n){return function(...e){var t=e[0];return t.stopPropagation(),n==null?void 0:n.apply(this,e)}}var Ge=O('<button class="close-button svelte-8bdz63"><span class="close-icon svelte-8bdz63">×</span></button>'),We=O('<div role="button"><div class="timeline-content svelte-8bdz63"><div class="timeline-date svelte-8bdz63"> </div> <h2 class="svelte-8bdz63"> </h2> <h3 class="svelte-8bdz63"> </h3> <p> </p> <!></div></div>');function Fe(n,e){F(e,!1);let t=x(e,"event",8),r=x(e,"isSelected",8),l=x(e,"position",8),a=x(e,"selectedEventId",8),i=x(e,"onSelect",8),h=x(e,"onClose",8),_=x(e,"elementRef",8),u=V();oe(()=>(o(u)&&_().set(t().id,o(u)),()=>{_().delete(t().id)})),W();var s=We();let m;var c=L(s),d=L(c),v=L(d,!0);M(d);var w=U(d,2),I=L(w,!0);M(w);var p=U(w,2),E=L(p,!0);M(p);var T=U(p,2);let b;var y=L(T,!0);M(T);var H=U(T,2);{var f=g=>{var S=Ge();J("click",S,Be(function(...k){var C;(C=h())==null||C.apply(this,k)})),z(g,S)};G(H,g=>{r()&&g(f)})}M(c),M(s),fe(s,g=>A(u,g),()=>o(u)),ce((g,S,k)=>{m=ne(s,1,"timeline-item svelte-8bdz63",null,m,g),re(s,"tabindex",S),re(s,"aria-label",`View details for ${t().title??""} at ${t().company??""}`),Y(v,t().period),Y(I,t().title),Y(E,t().company),b=ne(T,1,"event-description svelte-8bdz63",null,b,k),Y(y,t().description)},[()=>({selected:r()}),()=>a()===null||Math.abs(l())<=1?0:-1,()=>({selected:r()})],D),J("click",s,()=>i()(t().id)),J("keydown",s,g=>g.key==="Enter"&&i()(t().id)),z(n,s),Q()}var Qe=O('<div class="timeline-container svelte-1epnw6j"></div>');function Ze(n,e){F(e,!1);let t=x(e,"careerEvents",8),r=x(e,"selectedEventId",8,null),l=x(e,"onSelect",8),a=x(e,"onClose",8),i=V(new Map);function h(){if(r()===null)return;const u=o(i).get(r());u&&u.scrollIntoView({behavior:"smooth",block:"center"})}W();var _=Qe();return ze(_,5,t,He,(u,s)=>{const m=D(()=>r()!==null&&o(s).id===r()),c=D(()=>r()!==null?t().findIndex(w=>w.id===r()):-1),d=D(()=>t().findIndex(w=>w.id===o(s).id)),v=D(()=>r()!==null?o(d)-o(c):0);Fe(u,{get event(){return o(s)},get isSelected(){return o(m)},get position(){return o(v)},get selectedEventId(){return r()},get onSelect(){return l()},get onClose(){return a()},get elementRef(){return o(i)},set elementRef(w){A(i,w)},$$legacy:!0})}),M(_),z(n,_),Xe(e,"scrollSelectedIntoView",h),Q({scrollSelectedIntoView:h})}var je=O('<p class="error svelte-1p5dgnh"> </p>'),$e=O("<p>Loading...</p>"),et=O('<main class="svelte-1p5dgnh"><header class="svelte-1p5dgnh"><h1 class="svelte-1p5dgnh">My Career Timeline</h1> <p>A chronological journey through my professional experience</p></header> <!></main>');function lt(n,e){F(e,!1);let t=V(null),r=!1,l=V(),a=V([]),i=V(null);const h="https://2qnjniuh32.execute-api.eu-west-1.amazonaws.com/prod/career-events",_="7TInRHEJfEXkfYzPMO6J7JXD2gfOHfJ4Hkaz6Gf5",u=!1;async function s(){try{const f=u?"/api-proxy":h;console.log(`Fetching from: ${f}`);const g=await fetch(f,{headers:{"x-api-key":_,Accept:"application/json","Content-Type":"application/json"},mode:"cors",credentials:"omit",cache:"no-cache"});if(!g.ok)throw new Error(`API request failed: ${g.status} ${g.statusText}`);const S=await g.json();A(a,S.careerEvents),console.log("Successfully loaded career events")}catch(f){console.error("API Error:",f),f instanceof TypeError&&f.message.includes("NetworkError")?A(i,"CORS error: Unable to access the API. This might be a cross-origin request issue."):A(i,f instanceof Error?f.message:"An unknown error occurred fetching career events")}}oe(()=>(s(),window.addEventListener("keydown",w),window.addEventListener("wheel",E,{passive:!1}),()=>{window.removeEventListener("keydown",w),window.removeEventListener("wheel",E)}));function m(f){A(t,f),setTimeout(()=>{o(l).scrollSelectedIntoView()},10)}function c(){A(t,null)}function d(){if(o(t)===null){o(a).length>0&&(A(t,o(a)[0].id),setTimeout(()=>{o(l).scrollSelectedIntoView()},10));return}const f=o(a).findIndex(g=>g.id===o(t));f<o(a).length-1&&(A(t,o(a)[f+1].id),setTimeout(()=>{o(l).scrollSelectedIntoView()},10))}function v(){if(o(t)===null){o(a).length>0&&(A(t,o(a)[o(a).length-1].id),setTimeout(()=>{o(l).scrollSelectedIntoView()},10));return}const f=o(a).findIndex(g=>g.id===o(t));f>0&&(A(t,o(a)[f-1].id),setTimeout(()=>{o(l).scrollSelectedIntoView()},10))}function w(f){switch(f.key){case"Escape":c();break;case"ArrowDown":case"ArrowRight":d();break;case"ArrowUp":case"ArrowLeft":v();break}}let I=0;const p=50;function E(f){f.preventDefault(),I+=Math.abs(f.deltaY),!(I<p)&&(I=0,!r&&(r=!0,setTimeout(()=>{r=!1},500),f.deltaY>0?d():v()))}W();var T=et(),b=U(L(T),2);{var y=f=>{var g=je(),S=L(g);M(g),ce(()=>Y(S,`Error: ${o(i)??""}`)),z(f,g)},H=(f,g)=>{{var S=C=>{var q=$e();z(C,q)},k=C=>{fe(Ze(C,{get careerEvents(){return o(a)},get selectedEventId(){return o(t)},onSelect:m,onClose:c,$$legacy:!0}),q=>A(l,q),()=>o(l))};G(f,C=>{o(a).length===0?C(S):C(k,!1)},g)}};G(b,f=>{o(i)?f(y):f(H,!1)})}M(T),z(n,T),Q()}export{lt as component};
